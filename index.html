<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>RaveOne Academy LMS</title>

<!-- External Fonts and Icons (These load via CDN) -->
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

<!-- 
    CSS INJECTION 
    GAS does not support <link rel="stylesheet" href="css/file.css"> 
    These files MUST exist in your GAS project as 'css/odoo-style.html' 
    and 'css/responsive.html', wrapped in <style> tags.
-->
<?!= include('css/odoo-style'); ?>
<?!= include('css/responsive'); ?>


</head>
<body>
<!-- Top Navigation Bar -->
<nav class="top-nav" id="topNav">
<div class="nav-container">
<div class="nav-logo">
<!-- Use absolute URL for the logo -->
<img src="https://www.google.com/search?q=https://rajeshkrao1976.github.io/rta/assets/logo.png" alt="RaveOne Academy" class="logo">
<span class="brand-name">RaveOne Academy</span>
</div>

        <div class="user-menu" id="userMenu">
            <div class="user-avatar" id="userAvatar">
                <i class="fas fa-user-circle"></i>
            </div>
            <div class="user-info" id="userInfo">
                <span class="user-name">Loading...</span>
                <span class="user-role">Student</span>
            </div>
            <div class="dropdown-arrow">
                <i class="fas fa-chevron-down"></i>
            </div>
            
            <div class="dropdown-menu" id="userDropdown">
                <a href="#" onclick="loadDashboard()">
                    <i class="fas fa-tachometer-alt"></i> Dashboard
                </a>
                <a href="#" onclick="loadProfile()">
                    <i class="fas fa-user"></i> My Profile
                </a>
                <a href="#" onclick="loadGrades()">
                    <i class="fas fa-chart-line"></i> My Grades
                </a>
                <div class="divider"></div>
                <a href="#" onclick="logout()">
                    <i class="fas fa-sign-out-alt"></i> Logout
                </a>
            </div>
        </div>
    </div>
</nav>

<div class="main-container">
    <aside class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <h3>Navigation</h3>
        </div>
        <ul class="sidebar-menu">
            <li class="menu-item" onclick="loadDashboard()">
                <i class="fas fa-home"></i> <span>Dashboard</span>
            </li>
            <li class="menu-item" onclick="loadMyCourses()">
                <i class="fas fa-graduation-cap"></i> <span>My Courses</span>
                <span class="badge" id="activeCourses">0</span>
            </li>
            <li class="menu-item" onclick="loadLessons()">
                <i class="fas fa-book-open"></i> <span>Learning Path</span>
                <span class="badge progress" id="progressBadge">0%</span>
            </li>
            <li class="menu-item" onclick="loadAssignments()">
                <i class="fas fa-tasks"></i> <span>Assignments</span>
                <span class="badge alert" id="pendingAssignments">0</span>
            </li>
            <li class="menu-item" onclick="loadSessions()">
                <i class="fas fa-video"></i> <span>Live Sessions</span>
                <span class="badge live" id="liveNow">0 Live</span>
            </li>
            <li class="menu-item" onclick="loadExams()">
                <i class="fas fa-clipboard-check"></i> <span>Exams</span>
            </li>
            <li class="menu-item" onclick="loadGrades()">
                <i class="fas fa-chart-bar"></i> <span>Gradebook</span>
            </li>
            
            <!-- Admin Items -->
            <li class="menu-item admin-only" onclick="loadAdminDashboard()">
                <i class="fas fa-cogs"></i> <span>Admin Panel</span>
            </li>
        </ul>
        <div class="sidebar-footer">
            <div class="iso-badge">
                <i class="fas fa-award"></i> <span>ISO 21001:2018</span>
            </div>
        </div>
    </aside>

    <main class="content-area" id="contentArea">
        <div class="loading-container" id="loading">
            <div class="loading-spinner"></div>
            <p>Loading your dashboard...</p>
        </div>
    </main>
</div>

<!-- SCRIPT INJECTION -->
<?!= include('config'); ?>
<?!= include('js/auth'); ?>
<?!= include('js/Assignments'); ?>
<?!= include('js/DripEngine'); ?>
<?!= include('js/Exams'); ?>
<?!= include('js/app'); ?>

<script>
    // Start application on load
    window.addEventListener('load', function() {
        if (typeof initApp === 'function') {
            initApp();
        } else {
            console.error("Initialization failed: initApp not found.");
        }
    });
</script>


</body>
</html>
